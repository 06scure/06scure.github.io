---
title: VScode实现经过跳板机的代码双向同步
date: 2025/09/12 12:00:00
tags:
  - VScode
  - Python
categories:
  - 工具配置
---
# 一、 安装SFTP
首先在vscode的应用市场安装SFTP插件。
![](https://qiniu.mingxuan.xin/picgo/20251214212022714.png)

然后`ctrl+shift+P`呼出命令行，输入@sftp,就会在项目目录/.vscode中创建一个sftp.json配置文件。
# 二、 配置config
**注意，sftp.json要配置到本地，不要配置到服务器上了！**
```json
{
	"name": "DevloperServer",
	"remotePath": "远端文件夹",
	"username":"登录用户名",
	"privateKeyPath":"~/.ssh/id_rsa",
	"host": "跳板机ip",
	"hop": {
		"host": "服务器ip",
		"port": 服务器端口,
		"username": "登录用户名",
		"privateKeyPath":"/绝对路径/.ssh/id_rsa"
	},
	"protocol":"sftp",
	"uploadonsave": false,
	"useTempFile": false,
	"openssh": false,
	"ignore":[
		"**/·git/**",
		"**/.vscode/**",
		"**/.idea/**",
		"**/checkpoints/**",
		"**/__pycache__/",
		"**/outputs/**",
		"**/data/**",
	]
}
```
以上方法中，他是读取的跳板机文件下的私钥而不是本地机，把私钥放到跳板机不太安全，但是他这个插件实在是难用，不能传参，不会读取config，只能是这样了。


# 三、报错
`[09-12 15:03:12] [error] Error: command 'sftp.remoteExplorer.refresh' already exists`
估计是我之前安装了两个版本的sftp插件冲突了，插件市场卸载重启一下。

# 四、 使用
对于本地端文件，右键upload即可上传。插件也支持自动上传，在config中添加

```js
"uploadOnSave": true
```
即可。

![](https://qiniu.mingxuan.xin/picgo/20251214212032824.png)


从pycharm搬过来，本来以为可以本地代码自动上传，这样可以用本地AI助手写代码，使用远端解释器运行，但是实操起来是不可以的，不如使用github传代码了。

# 参考资料
 - [【VSCode SFTP】使用VSCode通过跳板机建立SSH隧道建立SFTP连接](https://blog.csdn.net/zht2002/article/details/130349227)
 - [sftp sync extension for VS Code](https://github.com/Natizyskunk/vscode-sftp?tab=readme-ov-file)
